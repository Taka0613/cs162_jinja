<li>
    <div>
        <!-- Form to mark the item as complete/incomplete -->
        <form action="{{ url_for('complete_item', item_id=item.id) }}" method="post" style="display:inline;">
            <input type="checkbox" name="completed" onchange="this.form.submit()" {% if item.is_completed %}checked{%
                endif %}> <!-- Checkbox reflects completion status -->
        </form>

        <!-- Button to toggle visibility of child items if there are any -->
        {% if item.children|length > 0 %}
        <button class="toggler">[-]</button>
        {% endif %}

        <!-- Display the item title, with styling if the item is completed -->
        <span {% if item.is_completed %}class="completed" {% endif %}>
            {{ item.title }}
        </span>

        <!-- Link to edit the item -->
        <a href="{{ url_for('edit_item', item_id=item.id) }}">Edit</a>

        <!-- Form to delete the item -->
        <form action="{{ url_for('delete_item', item_id=item.id) }}" method="post" style="display:inline;">
            <input type="submit" value="Delete">
        </form>

        <!-- Option to move the item if it has no parent item -->
        {% if item.parent_item_id is none %}
        <a href="{{ url_for('move_item', item_id=item.id) }}">Move</a>
        {% endif %}
    </div>

    <!-- Recursively display child items if there are any -->
    {% if item.children %}
    <ul>
        {% for child in item.children %}
        {% set item = child %}
        {% include 'item.html' %} <!-- Include this template to recursively render child items -->
        {% endfor %}
    </ul>
    {% endif %}
</li>